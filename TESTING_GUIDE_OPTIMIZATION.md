# 优化功能测试指南

## 🧪 测试环境准备

### 前置条件
1. 项目已成功编译（npm run build）
2. 开发服务器已启动（npm run dev）
3. 已登录管理后台
4. 数据库中有激活码和提现申请数据

---

## 📝 测试用例

### 测试1: 激活码列表导出功能

**步骤**:
1. 登录管理后台
2. 进入"激活码与提现管理"页面
3. 找到"激活码列表"部分
4. 点击右上角"📥 导出Excel"按钮

**预期结果**:
- ✅ 浏览器下载一个Excel文件
- ✅ 文件名格式：`激活码列表_YYYY-MM-DD.xlsx`
- ✅ Excel包含以下列：激活码、手机号、订阅套餐、套餐金额、状态、激活时间、到期时间
- ✅ 数据正确显示

**高级测试**:
1. 设置开始日期为"2025-10-01"
2. 设置结束日期为"2025-10-31"
3. 点击导出
4. 验证导出的数据只包含该时间范围内的激活码

---

### 测试2: 激活码列表分页功能

**步骤**:
1. 在激活码列表筛选区域
2. 选择"每页显示"为"10条"
3. 观察表格显示

**预期结果**:
- ✅ 表格只显示10条记录
- ✅ 底部显示"共 X 条记录，第 1 页"
- ✅ "下一页"按钮可用（如果有多页）
- ✅ "上一页"按钮禁用（在第1页时）

**高级测试**:
1. 点击"下一页"按钮
2. 验证页码更新
3. 点击"上一页"按钮
4. 验证返回第1页

---

### 测试3: 提现申请导出功能

**步骤**:
1. 在"提现申请管理"部分
2. 点击右上角"📥 导出Excel"按钮

**预期结果**:
- ✅ 浏览器下载一个Excel文件
- ✅ 文件名格式：`提现申请_YYYY-MM-DD.xlsx`
- ✅ Excel包含以下列：用户、金额、方式、账号、状态、申请时间
- ✅ 最后一行为汇总行，显示"汇总"和总金额
- ✅ 金额格式正确（¥XX.XX）

**验证汇总金额**:
1. 手动计算表格中所有金额的总和
2. 对比Excel中汇总行的金额
3. 确保一致

---

### 测试4: 提现申请时间筛选

**步骤**:
1. 在提现申请筛选区域
2. 设置开始日期为"2025-10-20"
3. 设置结束日期为"2025-10-28"
4. 观察表格更新

**预期结果**:
- ✅ 表格只显示该时间范围内的提现申请
- ✅ 记录数更新
- ✅ 分页信息更新

---

### 测试5: 数据统计时间筛选

**步骤**:
1. 进入"数据统计"页面
2. 找到右上角的时间段下拉菜单
3. 选择"今天"

**预期结果**:
- ✅ 页面刷新
- ✅ 首行三个红色卡片显示今日新增数据
- ✅ 数据与选择的时间段相符

**测试"昨天"**:
1. 选择"昨天"
2. 验证数据更新为昨日数据

---

### 测试6: 数据统计首行数据显示

**步骤**:
1. 在数据统计页面
2. 观察首行四个卡片

**预期结果**:
- ✅ 第一个卡片（红色）：显示"今日新增用户"
- ✅ 第二个卡片（红色）：显示"今日对话数"
- ✅ 第三个卡片（红色）：显示"今日消息数"
- ✅ 第四个卡片（蓝色）：显示"活跃用户"
- ✅ 红色卡片有渐变背景和红色边框
- ✅ 每个卡片显示对应的总数

---

## 🔍 验证清单

### 功能验证
- [ ] 激活码导出功能正常
- [ ] 激活码时间筛选正常
- [ ] 激活码分页功能正常
- [ ] 提现申请导出功能正常
- [ ] 提现申请时间筛选正常
- [ ] 提现申请分页功能正常
- [ ] 提现申请汇总金额正确
- [ ] 数据统计时间快速选项正常
- [ ] 数据统计首行数据显示正确

### 性能验证
- [ ] 导出大量数据时不卡顿
- [ ] 分页切换流畅
- [ ] 时间筛选响应快速

### 兼容性验证
- [ ] Chrome浏览器正常
- [ ] Firefox浏览器正常
- [ ] Safari浏览器正常
- [ ] 移动设备响应式正常

---

## 📊 测试数据

建议使用以下测试数据进行验证：
- 激活码：至少10条（包括已使用和未使用）
- 提现申请：至少5条（包括不同状态）
- 时间跨度：至少覆盖最近30天

---

## ✅ 测试完成标准

所有测试用例都通过，且：
1. 没有JavaScript错误
2. 没有网络请求失败
3. 导出的Excel文件可正常打开
4. 数据显示准确无误
5. 性能满足要求

---

**测试日期**: 2025-10-28
**测试人员**: [待填写]
**测试结果**: [待填写]

